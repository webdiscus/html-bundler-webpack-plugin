"use strict";(self.webpackChunkhtml_bundler_docs=self.webpackChunkhtml_bundler_docs||[]).push([[2282],{8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>t});var r=s(6540);const l={},a=r.createContext(l);function i(e){const n=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),r.createElement(a.Provider,{value:n},e.children)}},9937:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"guides/preprocessor/handlebars","title":"Handlebars","description":"Link: Handlebars","source":"@site/docs/guides/preprocessor/handlebars.mdx","sourceDirName":"guides/preprocessor","slug":"/guides/preprocessor/handlebars","permalink":"/html-bundler-webpack-plugin/guides/preprocessor/handlebars","draft":false,"unlisted":false,"editUrl":"https://github.com/webdiscus/html-bundler-docs/tree/docusaurus/docs/guides/preprocessor/handlebars.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"guidesSidebar","previous":{"title":"EJS","permalink":"/html-bundler-webpack-plugin/guides/preprocessor/ejs"},"next":{"title":"LiquidJS","permalink":"/html-bundler-webpack-plugin/guides/preprocessor/liquid"}}');var l=s(4848),a=s(8453);const i={sidebar_position:2},t="Handlebars",o={},d=[{value:"<code>preprocessor: &#39;handlebars&#39;</code>",id:"preprocessor-handlebars",level:2},{value:"<code>preprocessorOptions</code>",id:"preprocessoroptions",level:2},{value:"The <code>runtime</code> option",id:"the-runtime-option",level:3},{value:"The <code>partials</code> option",id:"the-partials-option",level:3},{value:"The <code>helpers</code> option",id:"the-helpers-option",level:3}];function c(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"handlebars",children:"Handlebars"})}),"\n",(0,l.jsxs)(n.p,{children:["Link: ",(0,l.jsx)(n.a,{href:"https://handlebarsjs.com",children:"Handlebars"})]}),"\n",(0,l.jsxs)(n.p,{children:["You need to install the ",(0,l.jsx)(n.code,{children:"handlebars"})," package:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"npm i -D handlebars\n"})}),"\n",(0,l.jsx)(n.h2,{id:"preprocessor-handlebars",children:(0,l.jsx)(n.code,{children:"preprocessor: 'handlebars'"})}),"\n",(0,l.jsxs)(n.p,{children:["For example, there is the template ",(0,l.jsx)(n.em,{children:"src/views/page/home.hbs"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-hbs",children:'<!DOCTYPE html>\n<html>\n<head>\n  <title>{{ title }}</title>\n</head>\n<body>\n  {{> header }}\n  <div class="container">\n    <h1>Handlebars</h1>\n    <div>{{ arraySize persons }} persons:</div>\n    <ul class="person">\n      {{#each persons}}\n        {{> person person=.}}\n      {{/each}}\n    </ul>\n  </div>\n  {{> footer }}\n</body>\n</html>\n'})}),"\n",(0,l.jsxs)(n.p,{children:["Where the ",(0,l.jsx)(n.code,{children:"{{> header }}"}),", ",(0,l.jsx)(n.code,{children:"{{> person person=.}}"})," and ",(0,l.jsx)(n.code,{children:"{{> footer }}"})," are partials."]}),"\n",(0,l.jsxs)(n.p,{children:["Define the ",(0,l.jsx)(n.code,{children:"preprocessor"})," as ",(0,l.jsx)(n.code,{children:"handlebars"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const HtmlBundlerPlugin = require('html-bundler-webpack-plugin');\n\nmodule.exports = {\n  plugins: [\n    new HtmlBundlerPlugin({\n      entry: {\n        // define templates here\n        index: {\n          import: 'src/views/pages/home.hbs', // => dist/index.html\n          // pass data to template as an object\n          // data: { title: 'Handlebars', persons: [...] },\n          // OR define the data file\n          data: 'src/views/pages/homeData.js',\n        },\n      },\n      // use handlebars templating engine\n      preprocessor: 'handlebars',\n      // define handlebars options\n      preprocessorOptions: {\n        partials: ['src/views/partials'],\n        helpers: {\n          arraySize: (array) => array.length,\n        },\n      },\n    }),\n  ],\n};\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"https://github.com/webdiscus/html-bundler-webpack-plugin/tree/master/examples/handlebars/",children:"Source code of the example"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"https://stackblitz.com/edit/webpack-webpack-js-org-mxbx4t?file=webpack.config.js",children:(0,l.jsx)(n.img,{src:"https://developer.stackblitz.com/img/open_in_stackblitz.svg",alt:"Open in StackBlitz"})})}),"\n",(0,l.jsx)(n.h2,{id:"preprocessoroptions",children:(0,l.jsx)(n.code,{children:"preprocessorOptions"})}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"preprocessor"})," has built-in ",(0,l.jsx)(n.code,{children:"include"})," helper, to load a partial file directly in a template without registration of partials."]}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"include"})," helper has the following ",(0,l.jsx)(n.em,{children:"de facto"})," standard options:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"{\n  // defaults process.cwd(), root path for includes with an absolute path (e.g., /file.html)\n  root: path.join(__dirname, 'src/views/'), // defaults process.cwd()\n  // defaults [], an array of paths to use when resolving includes with relative paths\n  views: [\n    'src/views/includes', // relative path\n    path.join(__dirname, 'src/views/partials'), // absolute path\n  ],\n},\n"})}),"\n",(0,l.jsx)(n.p,{children:"For example, there are template page and partials:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"src/views/\n\u251c\u2500\u2500 page/\n\u2502   \u2514\u2500\u2500 home.html\n\u251c\u2500\u2500 includes/\n\u2502   \u251c\u2500\u2500 gallery.html\n\u2502   \u2514\u2500\u2500 teaser.html\n\u251c\u2500\u2500 partials/\n\u2502   \u251c\u2500\u2500 footer.html\n\u2502   \u2514\u2500\u2500 menu/\n\u2502       \u251c\u2500\u2500 nav.html\n\u2502       \u2514\u2500\u2500 top/\n\u2502           \u2514\u2500\u2500 desktop.html\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Include the partials in the ",(0,l.jsx)(n.code,{children:"src/views/page/home.html"})," template with the ",(0,l.jsx)(n.code,{children:"include"})," helper:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:"\x3c!-- root path --\x3e\n{{ include '/includes/gallery' }}\n\n\x3c!-- views paths --\x3e\n{{ include 'menu/top/desktop' }}\n{{ include 'menu/nav' }}\n{{ include 'teaser' }}\n{{ include 'footer' }}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"include"})," helper automatically resolves ",(0,l.jsx)(n.code,{children:".html"})," and ",(0,l.jsx)(n.code,{children:".hbs"})," extensions, it can be omitted."]}),"\n",(0,l.jsxs)(n.h3,{id:"the-runtime-option",children:["The ",(0,l.jsx)(n.code,{children:"runtime"})," option"]}),"\n",(0,l.jsxs)(n.p,{children:["The path to the handlebars runtime library. The path can be absolute or relative to ",(0,l.jsx)(n.code,{children:"node_modules"})," directory.\nDefaults runtime file is ",(0,l.jsx)(n.code,{children:"handlebars/runtime"}),".\nThis options is used only by import templates in JavaScript, in ",(0,l.jsx)(n.a,{href:"/guides/preprocessor/template-function#compile-mode",children:"compile mode"}),"."]}),"\n",(0,l.jsxs)(n.h3,{id:"the-partials-option",children:["The ",(0,l.jsx)(n.code,{children:"partials"})," option"]}),"\n",(0,l.jsxs)(n.p,{children:["Type: ",(0,l.jsx)(n.code,{children:"Array<string>|Object"})," Default: ",(0,l.jsx)(n.code,{children:"[]"})]}),"\n",(0,l.jsxs)(n.p,{children:["If you use the partials syntax ",(0,l.jsx)(n.code,{children:"{{> footer }}"})," to include a file, then use the ",(0,l.jsx)(n.code,{children:"partials"})," option.\nPartials will be auto-detected in paths recursively and registered under their relative paths, without an extension."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"{\n  preprocessor: 'handlebars',\n  preprocessorOptions: {\n    // an array of relative or absolute paths to partials\n    partials: [\n      'src/views/includes', // relative path\n      path.join(__dirname, 'src/views/partials'), // absolute path\n    ],\n  },\n},\n"})}),"\n",(0,l.jsxs)(n.p,{children:["For example, if the partial path is the ",(0,l.jsx)(n.code,{children:"src/views/partials"})," then the file ",(0,l.jsx)(n.code,{children:"src/views/partials/menu/top/desktop.html"})," will have the partial name ",(0,l.jsx)(n.code,{children:"menu/top/desktop"}),"."]}),"\n",(0,l.jsx)(n.p,{children:"You can define all partials manually using the option as an object:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"{\n  // define partials manually\n  partials: {\n    teaser: path.join(__dirname, 'src/views/includes/teaser.html'),\n    gallery: path.join(__dirname, 'src/views/includes/gallery.html'),\n    footer: path.join(__dirname, 'src/views/partials/footer.html'),\n    'menu/nav': path.join(__dirname, 'src/views/partials/menu/nav.html'),\n    'menu/top/desktop': path.join(__dirname, 'src/views/partials/menu/top/desktop.html'),\n  },\n},\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Include the partials in the ",(0,l.jsx)(n.code,{children:"src/views/page/home.html"})," template:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:"{{> menu/top/desktop }}\n{{> menu/nav }}\n{{> teaser }}\n{{> gallery }}\n{{> footer }}\n"})}),"\n",(0,l.jsxs)(n.h3,{id:"the-helpers-option",children:["The ",(0,l.jsx)(n.code,{children:"helpers"})," option"]}),"\n",(0,l.jsxs)(n.p,{children:["Type: ",(0,l.jsx)(n.code,{children:"Array<string>|Object"})," Default: ",(0,l.jsx)(n.code,{children:"[]"})]}),"\n",(0,l.jsxs)(n.p,{children:["When the ",(0,l.jsx)(n.code,{children:"helpers"})," is an array of relative or absolute paths to helpers,\nthen the name of a helper is the relative path to the helper file without an extension."]}),"\n",(0,l.jsx)(n.p,{children:"For example, there are helper files:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"src/views/helpers/bold.js\nsrc/views/helpers2/italic.js\nsrc/views/helpers2/wrapper/span.js\n"})}),"\n",(0,l.jsx)(n.p,{children:"The preprocessor options:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"{\n  preprocessor: 'handlebars',\n  preprocessorOptions: {\n    // an array of relative or absolute paths to helpers\n    helpers: [\n      'src/views/helpers',\n      'src/views/helpers2',\n    ],\n  },\n},\n"})}),"\n",(0,l.jsx)(n.p,{children:"Usage of helpers:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:"{{#bold}}The bold text.{{/bold}} {{#italic}}The italic text.{{/italic}}\n\n\x3c!-- the helper with namespace `wrapper/span` --\x3e\n{{#[wrapper/span]}}The text wrapped with span tag.{{/[wrapper/span]}}\n"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.admonition,{type:"note",children:(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The helper located in a subdirectory, e.g. ",(0,l.jsx)(n.code,{children:"wrapper/span.js"})," will be available in template as ",(0,l.jsx)(n.code,{children:"[wrapper/span]"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["When helper name contain the ",(0,l.jsx)(n.code,{children:"/"})," slash, then the helper name must be wrapped with the ",(0,l.jsx)(n.code,{children:"[]"}),"."]}),"\n"]})}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["You can define helpers manually using ",(0,l.jsx)(n.code,{children:"name: function"})," object:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"{\n  preprocessor: 'handlebars',\n  preprocessorOptions: {\n    // define helpers manually\n    helpers: {\n      bold: (options) => new Handlebars.SafeString(`<strong>${options.fn(this)}</strong>`),\n    },\n  },\n},\n"})}),"\n",(0,l.jsxs)(n.p,{children:["This plugin has own ",(0,l.jsx)(n.code,{children:"build-in"})," helpers:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"include"})," - includes a template file relative to paths defined in ",(0,l.jsx)(n.code,{children:"views"})," option, the default path is the project root path"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-hbs",children:"{{include 'TEMPLATE_FILE'}}\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"assign"})," - creates a new named variable or override old.\nYou can define many variables. The variables are available in included partials."]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-hbs",children:"{{assign title='Homepage' header='Home'}}\n{{> layout}}\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.em,{children:"layout.hbs"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-hbs",children:"<title>{{title}}</title>\n<h1>{{header}}</h1>\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"partial"})," and ",(0,l.jsx)(n.code,{children:"block"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"partial"})," - defines the block content"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-hbs",children:"{{#partial 'BLOCK_NAME'}}BLOCK_CONTENT{{/partial}}\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"block"})," - outputs the block content, it can be used in another partial file, e.g. in a layout partial"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-hbs",children:"{{#block 'BLOCK_NAME'}}default content or empty{{/block}}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["For the complete list of Handlebars ",(0,l.jsx)(n.code,{children:"compile"})," options see ",(0,l.jsx)(n.a,{href:"https://handlebarsjs.com/api-reference/compilation.html",children:"here"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}}}]);