"use strict";(self.webpackChunkhtml_bundler_docs=self.webpackChunkhtml_bundler_docs||[]).push([[1162],{7395:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>a,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"Options/PluginOptions/router","title":"router","description":"Option: router","source":"@site/docs/Options/PluginOptions/router.mdx","sourceDirName":"Options/PluginOptions","slug":"/plugin-options-router","permalink":"/html-bundler-webpack-plugin/plugin-options-router","draft":false,"unlisted":false,"editUrl":"https://github.com/webdiscus/html-bundler-docs/tree/docusaurus/docs/Options/PluginOptions/router.mdx","tags":[{"inline":true,"label":"HTML","permalink":"/html-bundler-webpack-plugin/tags/html"},{"inline":true,"label":"entry","permalink":"/html-bundler-webpack-plugin/tags/entry"},{"inline":true,"label":"router","permalink":"/html-bundler-webpack-plugin/tags/router"},{"inline":true,"label":"template","permalink":"/html-bundler-webpack-plugin/tags/template"}],"version":"current","sidebarPosition":70,"frontMatter":{"sidebar_position":70,"slug":"/plugin-options-router","title":"router","tags":["HTML","entry","router","template"]},"sidebar":"docsSidebar","previous":{"title":"svg","permalink":"/html-bundler-webpack-plugin/plugin-options-svg"},"next":{"title":"sources","permalink":"/html-bundler-webpack-plugin/plugin-options-sources"}}');var r=t(4848),i=t(8453);const l={sidebar_position:70,slug:"/plugin-options-router",title:"router",tags:["HTML","entry","router","template"]},o="Resolve page URLs",d={},c=[];function h(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"resolve-page-urls",children:"Resolve page URLs"})}),"\n",(0,r.jsxs)(n.p,{children:["Option: ",(0,r.jsx)(n.code,{children:"router"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"type Router =\n  | boolean\n  | {\n      enabled?: boolean;\n      test?: RegExp | Array<RegExp>;\n      rewriteIndex?: false | string;\n      resolve?: (props: {\n        sourceRoute: string;\n        outputRoute: string;\n        sourceFile: string;\n        outputFile: string;\n      }) => void | string;\n    };\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"enabled"})," - Enable / disable the route resolving. Defaults ",(0,r.jsx)(n.code,{children:"true"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"test"})," - The router resolves values matching to the RegExp only.",(0,r.jsx)(n.br,{}),"\n","Defaults, defined the same as ",(0,r.jsx)(n.a,{href:"/plugin-options-test",children:"plugin.test"})," option to match templates of used ",(0,r.jsx)(n.a,{href:"/plugin-options-preprocessor",children:"preprocessor"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"rewriteIndex"})," - Rewrite the ",(0,r.jsx)(n.code,{children:"index.html"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["If ",(0,r.jsx)(n.a,{href:"/Options/WebpackOptions/output#outputpublicpath",children:"publicPath"})," is ",(0,r.jsx)(n.code,{children:"auto"}),", replaces ",(0,r.jsx)(n.code,{children:"index.html"})," with the specified string, should be on of: ",(0,r.jsx)(n.code,{children:"'.'"}),", ",(0,r.jsx)(n.code,{children:"''"})," (empty)."]}),"\n",(0,r.jsxs)(n.li,{children:["If ",(0,r.jsx)(n.a,{href:"/Options/WebpackOptions/output#outputpublicpath",children:"publicPath"})," is not empty, replaces ",(0,r.jsx)(n.code,{children:"index.html"})," with ",(0,r.jsx)(n.code,{children:"''"})," (empty) regardless of specified value."]}),"\n",(0,r.jsxs)(n.li,{children:["If the route URL contains a query or a segment (e.g. ",(0,r.jsx)(n.code,{children:"index.html#contact"}),"), the ",(0,r.jsx)(n.code,{children:"rewriteIndex"})," is ignored."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"resolve()"})," - Allow modify the resolved route URL.",(0,r.jsx)(n.br,{}),"\n","The argument is the object:"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"sourceRoute"})," - The resolved attribute value (absolute path)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"outputRoute"})," - The output URL regards ",(0,r.jsx)(n.a,{href:"/Options/WebpackOptions/output#outputpublicpath",children:"publicPath"}),", e.g. by ",(0,r.jsx)(n.code,{children:"auto"})," publicPath is relative to ",(0,r.jsx)(n.code,{children:"outputFile"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"sourceFile"})," - The absolute path to the template file where is resolved the ",(0,r.jsx)(n.code,{children:"sourceRoute"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"outputFile"})," - The output HTML filename of ",(0,r.jsx)(n.code,{children:"sourceFile"}),", relative to the ",(0,r.jsx)(n.code,{children:"dist/"})," directory.",(0,r.jsx)(n.br,{}),"\n","Return:"]}),"\n",(0,r.jsx)(n.li,{children:"void - Do nothing."}),"\n",(0,r.jsx)(n.li,{children:"string - The returned string replaces the value."}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"router"})," option enable resolving of ",(0,r.jsx)(n.code,{children:"a.href"})," (by defaults) values as a route URL to inner pages.\nThis is useful for multi-page sites."]}),"\n",(0,r.jsxs)(n.p,{children:["Using the ",(0,r.jsx)(n.a,{href:"/plugin-options-sources",children:"sources"})," option you can specify any tag attribute which should be resolved."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["The router resolves routes specified in the ",(0,r.jsx)(n.code,{children:"entry"})," plugin option only. An external URL will be ignored."]})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const HtmlBundlerPlugin = require('html-bundler-webpack-plugin');\nmodule.exports = {\n  resolve: {\n    alias: {\n      // recommended to use the alias for the route in templates\n      '@views': path.join(__dirname, 'src/views/pages'),\n    },\n  },\n  plugins: [\n    new HtmlBundlerPlugin({\n      entry: {\n        // multi-pages\n        index: './src/views/pages/home/index.html',\n        'news/sport/index': './src/views/pages/news/sport/index.html',\n      },\n      router: true, // enable resolving of route URLs in a.href\n    }),\n  ],\n};\n"})}),"\n",(0,r.jsxs)(n.p,{children:["In templates, specify the ",(0,r.jsx)(n.code,{children:"source path"})," to the linked template.\nThe linked template must be specified in the ",(0,r.jsx)(n.code,{children:"entry"})," plugin option too."]}),"\n",(0,r.jsxs)(n.p,{children:["The source ",(0,r.jsx)(n.em,{children:"./src/views/pages/index.html"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:'<html>\n<body>\n  <h1>Home</h1>\n  <a href="@views/home/index.html">Home</a> | <a href="@views/news/sport/index.html">Sport</a>\n</body>\n</html>\n'})}),"\n",(0,r.jsxs)(n.p,{children:["The source ",(0,r.jsx)(n.em,{children:"./src/views/pages/news/sport/index.html"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:'<html>\n<body>\n  <h1>Sports News</h1>\n  <a href="@views/home/index.html">Home</a> | <a href="@views/news/sport/index.html">Sport</a>\n</body>\n</html>\n'})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:"If you use a template, you can include navigation as a partial on all pages,\nsince the route URLs will be automatically resolved from their source files."})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["The generated ",(0,r.jsx)(n.em,{children:"dist/index.html"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:'<html>\n<body>\n  <h1>Home</h1>\n  <a href="index.html">Home</a> | <a href="news/sport/index.html">Sport</a>\n</body>\n</html>\n'})}),"\n",(0,r.jsxs)(n.p,{children:["The generated ",(0,r.jsx)(n.em,{children:"dist/news/sport/index.html"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:'<html>\n<body>\n  <h1>Sports News</h1>\n  <a href="../../index.html">Home</a> | <a href="index.html">Sport</a>\n</body>\n</html>\n'})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["You can use the ",(0,r.jsx)(n.code,{children:"router.rewriteIndex"})," option to rewrite the ",(0,r.jsx)(n.code,{children:"index.html"}),"."]})}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>o});var s=t(6540);const r={},i=s.createContext(r);function l(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);