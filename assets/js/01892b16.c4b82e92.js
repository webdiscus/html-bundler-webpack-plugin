"use strict";(self.webpackChunkhtml_bundler_docs=self.webpackChunkhtml_bundler_docs||[]).push([[8098],{3786:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"guides/import-svg-in-js","title":"Import SVG in JS","description":"You don\'t need the svg-url-loader anymore.","source":"@site/docs/guides/import-svg-in-js.md","sourceDirName":"guides","slug":"/guides/import-svg-in-js","permalink":"/html-bundler-webpack-plugin/guides/import-svg-in-js","draft":false,"unlisted":false,"editUrl":"https://github.com/webdiscus/html-bundler-docs-gh/tree/master/docs/guides/import-svg-in-js.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"Import SVG in JS"},"sidebar":"guidesSidebar","previous":{"title":"Import CSS stylesheet in JS","permalink":"/html-bundler-webpack-plugin/guides/import-css-style-sheet"},"next":{"title":"Inline all assets in HTML","permalink":"/html-bundler-webpack-plugin/guides/inline-all-assets"}}');var t=s(4848),o=s(8453);const r={sidebar_position:5,title:"Import SVG in JS"},l="Import SVG in JS",a={},d=[{value:"Replacement of <code>svg-url-loader</code> options",id:"replacement-of-svg-url-loader-options",level:3},{value:"Import SVG file as output filename.",id:"import-svg-file-as-output-filename",level:2},{value:"Import SVG file as data URL.",id:"import-svg-file-as-data-url",level:2}];function c(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"import-svg-in-js",children:"Import SVG in JS"})}),"\n",(0,t.jsxs)(n.p,{children:["You don't need the ",(0,t.jsx)(n.a,{href:"https://github.com/bhovhannes/svg-url-loader",children:"svg-url-loader"})," anymore.\nIf you use it yet, remove this legacy loader from your configuration.\nSince Webpack 5, you can use the native Webpack ",(0,t.jsx)(n.a,{href:"https://webpack.js.org/guides/asset-modules/",children:"Asset Modules"}),",\nwhich are supported by the Bundler Plugin."]}),"\n",(0,t.jsxs)(n.h3,{id:"replacement-of-svg-url-loader-options",children:["Replacement of ",(0,t.jsx)(n.code,{children:"svg-url-loader"})," options"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/bhovhannes/svg-url-loader#encoding",children:(0,t.jsx)(n.code,{children:"encoding"})})," - Use the ",(0,t.jsx)(n.code,{children:"?inline"})," or ",(0,t.jsx)(n.code,{children:"?inline=base64"})," query."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"prefix"})," - Use the ",(0,t.jsx)(n.a,{href:"https://webpack.js.org/guides/asset-modules/#custom-output-filename",children:"output filename"})," option."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/bhovhannes/svg-url-loader#limit",children:(0,t.jsx)(n.code,{children:"limit"})})," - Use the ",(0,t.jsx)(n.a,{href:"https://webpack.js.org/configuration/module/#ruleparserdataurlcondition",children:"Rule.parser.dataUrlCondition"})," option."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/bhovhannes/svg-url-loader#iesafe",children:(0,t.jsx)(n.code,{children:"iesafe"})})," - The same as by ",(0,t.jsx)(n.code,{children:"limit"})," using ",(0,t.jsx)(n.code,{children:"Rule.parser.dataUrlCondition.maxSize = 4096"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/bhovhannes/svg-url-loader#stripdeclarations",children:(0,t.jsx)(n.code,{children:"stripdeclarations"})})," - we wan't manipulate the SVG content, may be useful to read by ",(0,t.jsx)(n.a,{href:"https://github.com/svg/svgo/issues/836",children:"svgo"}),".",(0,t.jsx)(n.br,{}),"\n","Anyway ",(0,t.jsx)(n.a,{href:"https://stackoverflow.com/a/7007781/1696030",children:"In XML 1.1, the declaration is mandatory"}),", therefore this option is senseless."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"To handle SVG files define the module configuration:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"module: {\n  rules: [\n    {\n      test: /\\.svg/i,\n      type: 'asset/resource',\n      generator: {\n        filename: 'img/[name].[hash:8][ext]',\n      },\n    },\n  ],\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"import-svg-file-as-output-filename",children:"Import SVG file as output filename."}),"\n",(0,t.jsxs)(n.p,{children:["Using the module configuration as ",(0,t.jsx)(n.code,{children:"asset/resource"}),", the imported SVG file will contain a output filename."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"import file from './image.svg';\n\nconsole.log(file); // img/image.416b7e1d.svg\n"})}),"\n",(0,t.jsx)(n.h2,{id:"import-svg-file-as-data-url",children:"Import SVG file as data URL."}),"\n",(0,t.jsxs)(n.p,{children:["The Bundler Plugin supports the ",(0,t.jsx)(n.code,{children:"?inline"})," URL query to force load SVG file as a data URL."]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"inline"})," query works independent of used module type."]})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"inline"})," query parameter supports values of encoding:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"base64"})," - default, import SVG as base64-encoded data URL"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"escape"})," - import SVG as escaped data URL"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["To import SVG as base64-encoded data URL, use the ",(0,t.jsx)(n.code,{children:"?inline=base64"})," or ",(0,t.jsx)(n.code,{children:"?inline"})," query."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"import file from './image.svg?inline=base64';\n\nconsole.log(file); // data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDo...vc3ZnPgo=\n"})}),"\n",(0,t.jsx)(n.p,{children:"Import SVG as escaped data URL:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"import file from './image.svg?inline=escape';\n\nconsole.log(file); // data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2...%3C%2Fsvg%3E\n"})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var i=s(6540);const t={},o=i.createContext(t);function r(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);