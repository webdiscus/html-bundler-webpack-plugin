"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3449],{5066:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"Options/PluginOptions/beforeEmit","title":"beforeEmit (for HTML)","description":"Option: beforeEmit\\\\","source":"@site/docs/Options/PluginOptions/beforeEmit.mdx","sourceDirName":"Options/PluginOptions","slug":"/Options/PluginOptions/beforeEmit","permalink":"/html-bundler-webpack-plugin/Options/PluginOptions/beforeEmit","draft":false,"unlisted":false,"editUrl":"https://github.com/webdiscus/html-bundler-webpack-plugin/tree/master/docs/Options/PluginOptions/beforeEmit.mdx","tags":[],"version":"current","sidebarPosition":150,"frontMatter":{"sidebar_position":150,"title":"beforeEmit (for HTML)"},"sidebar":"docsSidebar","previous":{"title":"postprocess (for HTML)","permalink":"/html-bundler-webpack-plugin/Options/PluginOptions/postprocess"},"next":{"title":"afterEmit","permalink":"/html-bundler-webpack-plugin/Options/PluginOptions/afterEmit"}}');var i=t(4848),o=t(8453);const r={sidebar_position:150,title:"beforeEmit (for HTML)"},l="Callback beforeEmit",c={},a=[];function p(e){const n={a:"a",br:"br",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"callback-beforeemit",children:"Callback beforeEmit"})}),"\n",(0,i.jsxs)(n.p,{children:["Option: ",(0,i.jsx)(n.code,{children:"beforeEmit"}),(0,i.jsx)(n.br,{}),"\n","Affects: Generated HTML"]}),"\n",(0,i.jsx)(n.p,{children:"Type:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type BeforeEmit = (\n  content: string,\n  entry: CompileEntry,\n  compilation: Compilation\n) => string | undefined;\n\ntype CompileEntry = TemplateInfo & {\n  // assets used in html\n  assets: Array<CompileAsset>;\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Default: ",(0,i.jsx)(n.code,{children:"null"})]}),"\n",(0,i.jsxs)(n.p,{children:["Called at the latest stage of the ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/api/compilation-hooks/#processassets",children:"processAssets"})," hook, before emitting.\nThis is the latest stage where you can change the HTML before it will be saved on the disk."]}),"\n",(0,i.jsx)(n.p,{children:"Callback parameters:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"content: string"})," - the final version html content"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"entry: CompileEntry"})," the information about the entry containing all dependent assets,",(0,i.jsx)(n.br,{}),"\n","the description of the ",(0,i.jsx)(n.code,{children:"TemplateInfo"})," see by ",(0,i.jsx)(n.a,{href:"#option-postprocess",children:"postprocess"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"compilation: Compilation"})," - the Webpack ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/api/compilation-object/",children:"compilation object"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Return new content as a ",(0,i.jsx)(n.code,{children:"string"}),".\nIf return ",(0,i.jsx)(n.code,{children:"undefined"})," then content will not be changed."]})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>l});var s=t(6540);const i={},o=s.createContext(i);function r(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);