"use strict";(self.webpackChunkhtml_bundler_docs=self.webpackChunkhtml_bundler_docs||[]).push([[6605],{3462:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"guides/preprocessor/template-function","title":"Template function in JavaScript","description":"The preprocessor works in two modes: render and compile.","source":"@site/docs/guides/preprocessor/template-function.mdx","sourceDirName":"guides/preprocessor","slug":"/guides/preprocessor/template-function","permalink":"/html-bundler-webpack-plugin/guides/preprocessor/template-function","draft":false,"unlisted":false,"editUrl":"https://github.com/webdiscus/html-bundler-docs-gh/tree/master/docs/guides/preprocessor/template-function.mdx","tags":[],"version":"current","sidebarPosition":99,"frontMatter":{"sidebar_position":99},"sidebar":"guidesSidebar","previous":{"title":"TwigJS","permalink":"/html-bundler-webpack-plugin/guides/preprocessor/twigjs"},"next":{"title":"Usage different template engines","permalink":"/html-bundler-webpack-plugin/guides/preprocessor/use-diff-templates"}}');var s=t(4848),r=t(8453);const o={sidebar_position:99},l="Template function in JavaScript",a={},c=[{value:"Render mode",id:"render-mode",level:2},{value:"Compile mode",id:"compile-mode",level:2},{value:"Template engines that do support the <code>template function</code> on client-side",id:"template-engines-that-do-support-the-template-function-on-client-side",level:4},{value:"Template engines that do NOT support the <code>template function</code> on client-side",id:"template-engines-that-do-not-support-the-template-function-on-client-side",level:4}];function d(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"template-function-in-javascript",children:"Template function in JavaScript"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.a,{href:"#loader-option-preprocessor",children:"preprocessor"})," works in two modes: ",(0,s.jsx)(n.code,{children:"render"})," and ",(0,s.jsx)(n.code,{children:"compile"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"render-mode",children:"Render mode"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"render"})," is the default mode for the template defined in the ",(0,s.jsx)(n.a,{href:"#option-entry",children:"entry"})," option.\nThe rendered template is an HTML string, which is saved as an HTML file."]}),"\n",(0,s.jsxs)(n.p,{children:["You can import the template file as a generated HTML string in JS using the ",(0,s.jsx)(n.code,{children:"?render"})," query.\nTo pass simple variables into the imported template you can use query parameters, e.g.: ",(0,s.jsx)(n.code,{children:"?render&name=Arnold&age=25"}),".\nTo pass complex variables such as an array or an object use the global ",(0,s.jsx)(n.a,{href:"#option-data",children:"data"})," option."]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsx)(n.p,{children:"At runtime in JavaScript will be used the already rendered HTML from the template."})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"For example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"import html from './partials/star-button.html?render&buttonText=Star';\n\ndocument.getElementById('star-button').innerHTML = html;\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"./partials/star-button.html"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<button class="btn-star">\n  \x3c!-- you can use a source image file with webpack alias,\n       in the bundle it will be auto replaced with the output asset filename --\x3e\n  <img src="@images/star.svg">\n  \x3c!-- the `buttonText` variable is passed via query --\x3e\n  <span><%= buttonText %></span>\n</button>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"compile-mode",children:"Compile mode"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"compile"})," is the default mode for the template imported in JavaScript file.\nThe compiled template is a template function,\nwhich can be executed with passed variables in the runtime on the client-side in the browser."]}),"\n",(0,s.jsx)(n.p,{children:"For example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"import tmpl from './partials/people.ejs';\n\n// template variables\nconst locals = {\n  people: [\n    'Walter White',\n    'Jesse Pinkman',\n  ],\n};\n\n// render template function with variables in browser\ndocument.getElementById('people').innerHTML = tmpl(locals);\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"./partials/people.ejs"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'\x3c!-- you can use a source image file with webpack alias,\n     in the bundle it will be auto replaced with the output asset filename --\x3e\n<img src="@images/people.png">\n<ul class="people">\n  <% for (let i = 0; i < people.length; i++) {%>\n  <li><%= people[i] %></li>\n  <% } %>\n</ul>\n'})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsx)(n.p,{children:"Not all template engines can generate a template function that can be executed with local variables at runtime."})}),"\n"]}),"\n",(0,s.jsxs)(n.h4,{id:"template-engines-that-do-support-the-template-function-on-client-side",children:["Template engines that do support the ",(0,s.jsx)(n.code,{children:"template function"})," on client-side"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#loader-option-preprocessor-options-eta",children:"eta"})," - generates a template function with runtime (~3KB)",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.code,{children:"include"})," is supported"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#loader-option-preprocessor-options-ejs",children:"ejs"})," - generates a fast smallest pure template function w/o runtime (",(0,s.jsx)(n.strong,{children:"recommended"})," for use on client-side)",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.code,{children:"include"})," is supported"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#loader-option-preprocessor-options-handlebars",children:"handlebars"})," - generates a precompiled template with runtime (~18KB)",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.code,{children:"include"})," is supported"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#loader-option-preprocessor-options-nunjucks",children:"nunjucks"})," - generates a precompiled template with runtime (~41KB)",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.code,{children:"include"})," is supported"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#loader-option-preprocessor-options-nunjucks",children:"twig"})," - generates a precompiled template with runtime (~110KB)",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.code,{children:"include"})," is supported"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#loader-option-preprocessor-options-pug",children:"pug"})," - generates a small pure template function"]}),"\n"]}),"\n",(0,s.jsxs)(n.h4,{id:"template-engines-that-do-not-support-the-template-function-on-client-side",children:["Template engines that do NOT support the ",(0,s.jsx)(n.code,{children:"template function"})," on client-side"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"LiquidJS"}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>l});var i=t(6540);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);