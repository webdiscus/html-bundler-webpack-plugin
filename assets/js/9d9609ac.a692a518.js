"use strict";(self.webpackChunkhtml_bundler_docs=self.webpackChunkhtml_bundler_docs||[]).push([[7292],{85:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>t,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"faq/responsive-image","title":"How to resize images","description":"To resize or generate responsive images is recommended to use the responsive-loader.","source":"@site/docs/faq/responsive-image.mdx","sourceDirName":"faq","slug":"/faq/responsive-image","permalink":"/html-bundler-webpack-plugin/faq/responsive-image","draft":false,"unlisted":false,"editUrl":"https://github.com/webdiscus/html-bundler-docs/tree/docusaurus/docs/faq/responsive-image.mdx","tags":[],"version":"current","sidebarPosition":84,"frontMatter":{"sidebar_position":84,"title":"How to resize images"},"sidebar":"faqSidebar","previous":{"title":"How to use image references in HTML","permalink":"/html-bundler-webpack-plugin/faq/using-images-in-html"},"next":{"title":"How to process a PHP template","permalink":"/html-bundler-webpack-plugin/faq/preprocessor-php"}}');var i=n(4848),a=n(8453);const o={sidebar_position:84,title:"How to resize images"},t="How to resize and generate responsive images",l={},c=[];function d(e){const s={a:"a",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"how-to-resize-and-generate-responsive-images",children:"How to resize and generate responsive images"})}),"\n",(0,i.jsxs)(s.p,{children:["To resize or generate responsive images is recommended to use the ",(0,i.jsx)(s.a,{href:"https://github.com/dazuaz/responsive-loader",children:"responsive-loader"}),"."]}),"\n",(0,i.jsx)(s.p,{children:"Install additional packages:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"npm i -D responsive-loader sharp\n"})}),"\n",(0,i.jsxs)(s.p,{children:["To resize an image use the query parameter ",(0,i.jsx)(s.code,{children:"size"}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-html",children:'\x3c!-- resize source image to max. 640px --\x3e\n<img src="./image.png?size=640" />\n'})}),"\n",(0,i.jsxs)(s.p,{children:["To generate responsible images use in ",(0,i.jsx)(s.code,{children:"srcset"})," attribute the query parameter ",(0,i.jsx)(s.code,{children:"sizes"})," als ",(0,i.jsx)(s.code,{children:"JSON5"})," to avoid parsing error,\nbecause many images must be separated by commas ",(0,i.jsx)(s.code,{children:","})," but we use the comma to separate sizes for one image:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-html",children:'\x3c!-- responsible images with different sizes: 320px, 480px, 640px --\x3e\n<img src="./image.png?size=480" srcset="./image.png?{sizes:[320,480,640]}" />\n'})}),"\n",(0,i.jsx)(s.p,{children:"You can convert source image to other output format.\nFor example, we have original image 2000px width as PNG and want to resize to 640px and save as WEBP:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-html",children:'<img src="./image.png?size=640&format=webp" />\n'})}),"\n",(0,i.jsx)(s.p,{children:"You can create a small inline image placeholder. To do this, use the following query parameters:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"placeholder=true"})," - enable to generate the placeholder"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"placeholderSize=35"})," - the size of the generating placeholder"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"prop=placeholder"})," - the plugin-specific ",(0,i.jsx)(s.code,{children:"prop"})," parameter retrieves the property from the object generated by ",(0,i.jsx)(s.code,{children:"responsive-loader"})]}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-html",children:'<img\n  src="./image.png?placeholder=true&placeholderSize=35&prop=placeholder"\n  srcset="./image.png?{sizes:[320,480,640]}" />\n'})}),"\n",(0,i.jsx)(s.p,{children:"The generated HTML:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-html",children:'<img\n  src="data:image/png;base64,iVBORw0K ..."\n  srcset="/img/image-320w.png 320w, /img/image-480w.png 480w, /img/image-640w.png 640w" />\n'})}),"\n",(0,i.jsx)(s.p,{children:"Add to Webpack config the rule for responsive images:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:"module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.(png|jpe?g|webp)$/,\n        type: 'asset/resource',\n        use: {\n          loader: 'responsive-loader',\n          options: {\n            // output filename of images, e.g. dist/assets/img/image-640w.png\n            name: 'assets/img/[name]-[width]w.[ext]',\n            sizes: [640], // max. image size, if 'size' query is not used\n          },\n        },\n      },\n      // ... other loaders\n    ],\n  },\n};\n"})})]})}function p(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>t});var r=n(6540);const i={},a=r.createContext(i);function o(e){const s=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(a.Provider,{value:s},e.children)}}}]);