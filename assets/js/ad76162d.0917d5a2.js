"use strict";(self.webpackChunkhtml_bundler_docs=self.webpackChunkhtml_bundler_docs||[]).push([[8068],{4242:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>a,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"guides/preprocessor/ejs","title":"EJS","description":"Link: EJS","source":"@site/docs/guides/preprocessor/ejs.mdx","sourceDirName":"guides/preprocessor","slug":"/guides/preprocessor/ejs","permalink":"/html-bundler-webpack-plugin/guides/preprocessor/ejs","draft":false,"unlisted":false,"editUrl":"https://github.com/webdiscus/html-bundler-docs-gh/tree/master/docs/guides/preprocessor/ejs.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"guidesSidebar","previous":{"title":"Eta","permalink":"/html-bundler-webpack-plugin/guides/preprocessor/eta"},"next":{"title":"Handlebars","permalink":"/html-bundler-webpack-plugin/guides/preprocessor/handlebars"}}');var t=s(4848),l=s(8453);const i={sidebar_position:2},o="EJS",c={},d=[{value:"<code>preprocessor: &#39;ejs&#39;</code>",id:"preprocessor-ejs",level:2},{value:"<code>preprocessorOptions</code>",id:"preprocessoroptions",level:2}];function p(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"ejs",children:"EJS"})}),"\n",(0,t.jsxs)(n.p,{children:["Link: ",(0,t.jsx)(n.a,{href:"https://ejs.co",children:"EJS"})]}),"\n",(0,t.jsxs)(n.p,{children:["You need to install the ",(0,t.jsx)(n.code,{children:"ejs"})," package:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"npm i -D ejs\n"})}),"\n",(0,t.jsx)(n.h2,{id:"preprocessor-ejs",children:(0,t.jsx)(n.code,{children:"preprocessor: 'ejs'"})}),"\n",(0,t.jsxs)(n.p,{children:["For example, there is the template ",(0,t.jsx)(n.em,{children:"src/views/page/index.ejs"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:"<html>\n  <body>\n    <h1><%= headline %></h1>\n    <ul class=\"people\">\n      <% for (let i = 0; i < people.length; i++) {%>\n      <li><%= people[i] %></li>\n      <% } %>\n    </ul>\n    <%- include('/src/views/partials/footer.html'); %>\n  </body>\n</html>\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Define the ",(0,t.jsx)(n.code,{children:"preprocessor"})," as ",(0,t.jsx)(n.code,{children:"ejs"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const HtmlBundlerPlugin = require('html-bundler-webpack-plugin');\n\nmodule.exports = {\n  plugins: [\n    new HtmlBundlerPlugin({\n      entry: {\n        index: {\n          // output dist/index.html\n          import: './src/views/page/index.ejs',\n          data: {\n            headline: 'Breaking Bad',\n            people: ['Walter White', 'Jesse Pinkman'],\n          },\n        },\n      },\n      preprocessor: 'ejs', // use EJS templating engine\n      // preprocessorOptions: {...},\n    }),\n  ],\n};\n"})}),"\n",(0,t.jsx)(n.h2,{id:"preprocessoroptions",children:(0,t.jsx)(n.code,{children:"preprocessorOptions"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"{\n  async: false, // defaults 'false'\n  // defaults process.cwd(), root path for includes with an absolute path (e.g., /file.html)\n  root: path.join(__dirname, 'src/views/'), // defaults process.cwd()\n  // defaults [], an array of paths to use when resolving includes with relative paths\n  views: [\n    'src/views/includes', // relative path\n    path.join(__dirname, 'src/views/partials'), // absolute path\n  ],\n},\n"})}),"\n",(0,t.jsxs)(n.p,{children:["For the complete list of options see ",(0,t.jsx)(n.a,{href:"https://ejs.co/#docs",children:"here"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"For example, there are template page and partials:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"src/views/\n\u251c\u2500\u2500 page/\n\u2502   \u2514\u2500\u2500 home.html\n\u251c\u2500\u2500 includes/\n\u2502   \u251c\u2500\u2500 gallery.html\n\u2502   \u2514\u2500\u2500 teaser.html\n\u251c\u2500\u2500 partials/\n\u2502   \u251c\u2500\u2500 footer.html\n\u2502   \u2514\u2500\u2500 menu/\n\u2502       \u251c\u2500\u2500 nav.html\n\u2502       \u2514\u2500\u2500 top/\n\u2502           \u2514\u2500\u2500 desktop.html\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Include the partials in the ",(0,t.jsx)(n.code,{children:"src/views/page/home.html"})," template with the ",(0,t.jsx)(n.code,{children:"include()"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:"\x3c!-- root path --\x3e\n<%- include('/includes/gallery.html') %>\n\n\x3c!-- views paths --\x3e\n<%- include('menu/top/desktop.html') %>\n<%- include('menu/nav.html') %>\n<%- include('teaser.html') %>\n<%- include('footer.html') %>\n"})}),"\n",(0,t.jsxs)(n.p,{children:["If you have partials with ",(0,t.jsx)(n.code,{children:".ejs"})," extensions, then the extension can be omitted."]})]})}function a(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>o});var r=s(6540);const t={},l=r.createContext(t);function i(e){const n=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);