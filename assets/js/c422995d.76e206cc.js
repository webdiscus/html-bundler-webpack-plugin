"use strict";(self.webpackChunkhtml_bundler_docs=self.webpackChunkhtml_bundler_docs||[]).push([[4151],{7591:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"Options/PluginOptions/preload","title":"preload","description":"Option: preload","source":"@site/docs/Options/PluginOptions/preload.mdx","sourceDirName":"Options/PluginOptions","slug":"/plugin-options-preload","permalink":"/html-bundler-webpack-plugin/plugin-options-preload","draft":false,"unlisted":false,"editUrl":"https://github.com/webdiscus/html-bundler-docs/tree/docusaurus/docs/Options/PluginOptions/preload.mdx","tags":[{"inline":true,"label":"HTML","permalink":"/html-bundler-webpack-plugin/tags/html"},{"inline":true,"label":"preload","permalink":"/html-bundler-webpack-plugin/tags/preload"},{"inline":true,"label":"assets","permalink":"/html-bundler-webpack-plugin/tags/assets"}],"version":"current","sidebarPosition":100,"frontMatter":{"sidebar_position":100,"slug":"/plugin-options-preload","title":"preload","tags":["HTML","preload","assets"]},"sidebar":"docsSidebar","previous":{"title":"outputPath","permalink":"/html-bundler-webpack-plugin/plugin-options-outputPath"},"next":{"title":"beforePreprocessor","permalink":"/html-bundler-webpack-plugin/plugin-options-beforePreprocessor"}}');var l=n(4848),i=n(8453);const t={sidebar_position:100,slug:"/plugin-options-preload",title:"preload",tags:["HTML","preload","assets"]},d="Preload assets",o={},c=[{value:"<code>filter</code> option",id:"filter-option",level:3},{value:"Preload styles",id:"preload-styles",level:3},{value:"Preload scripts",id:"preload-scripts",level:3},{value:"Preload images",id:"preload-images",level:3},{value:"Preload fonts",id:"preload-fonts",level:3},{value:"Preload tags order",id:"preload-tags-order",level:3},{value:"Preload priority",id:"preload-priority",level:3},{value:"More info",id:"more-info",level:3}];function a(e){const s={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.header,{children:(0,l.jsx)(s.h1,{id:"preload-assets",children:"Preload assets"})}),"\n",(0,l.jsxs)(s.p,{children:["Option: ",(0,l.jsx)(s.code,{children:"preload"})]}),"\n",(0,l.jsx)(s.p,{children:"Type:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-ts",children:"type Preload = Array<{\n  test: RegExp;\n  filter?: PreloadFilter;\n  as?: string;\n  rel?: string;\n  type?: string;\n  attributes?: { [attributeName: string]: string | boolean };\n}>;\n"})}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-ts",children:"type PreloadFilter =\n  | RegExp\n  | Array<RegExp>\n  | { includes?: Array<RegExp>; excludes?: Array<RegExp> }\n  | ((asset: { sourceFiles: Array<string>; outputFile: string }) => void | boolean);\n"})}),"\n",(0,l.jsxs)(s.p,{children:["Default: ",(0,l.jsx)(s.code,{children:"null"})]}),"\n",(0,l.jsxs)(s.p,{children:["Generates and injects preload tags ",(0,l.jsx)(s.code,{children:'<link rel="preload">'})," in the head before all ",(0,l.jsx)(s.code,{children:"link"})," or ",(0,l.jsx)(s.code,{children:"script"})," tags for all matching source assets resolved in templates and styles."]}),"\n",(0,l.jsx)(s.p,{children:"The descriptions of the properties:"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"test"})," - an RegEpx to match source asset files."]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"filter"})," - an advanced filter to preload only matched output asset files."]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"as"})," - a content type, one of ",(0,l.jsx)(s.code,{children:"audio"})," ",(0,l.jsx)(s.code,{children:"document"})," ",(0,l.jsx)(s.code,{children:"embed"})," ",(0,l.jsx)(s.code,{children:"font"})," ",(0,l.jsx)(s.code,{children:"image"})," ",(0,l.jsx)(s.code,{children:"object"})," ",(0,l.jsx)(s.code,{children:"script"})," ",(0,l.jsx)(s.code,{children:"style"})," ",(0,l.jsx)(s.code,{children:"track"})," ",(0,l.jsx)(s.code,{children:"video"})," ",(0,l.jsx)(s.code,{children:"worker"})]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"rel"})," - a value indicates how to load a resource, one of ",(0,l.jsx)(s.code,{children:"preload"})," ",(0,l.jsx)(s.code,{children:"prefetch"})," , defaults ",(0,l.jsx)(s.code,{children:"preload"})]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"type"})," - a ",(0,l.jsx)(s.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types",children:"MIME type"})," of the content.",(0,l.jsx)(s.br,{}),"\n","Defaults the type is detected automatically, for example:","\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"picture.png"})," as ",(0,l.jsx)(s.code,{children:"image/png"})]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"picture.jpg"})," as ",(0,l.jsx)(s.code,{children:"image/jpeg"})]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"picture.svg"})," as ",(0,l.jsx)(s.code,{children:"image/svg+xml"})]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"film.mp4"})," as ",(0,l.jsx)(s.code,{children:"video/mp4"})]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"film.ogv"})," as ",(0,l.jsx)(s.code,{children:"video/ogg"})]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"film.webm"})," as ",(0,l.jsx)(s.code,{children:"video/webm"})]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"sound.mp3"})," as ",(0,l.jsx)(s.code,{children:"audio/mpeg"})]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"sound.oga"})," as ",(0,l.jsx)(s.code,{children:"audio/ogg"})]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"sound.weba"})," as ",(0,l.jsx)(s.code,{children:"audio/webm"})]}),"\n",(0,l.jsx)(s.li,{children:"etc."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"attributes"})," - an object with additional custom attributes like ",(0,l.jsx)(s.code,{children:"crossorigin"})," ",(0,l.jsx)(s.code,{children:"media"})," etc. Defaults ",(0,l.jsx)(s.code,{children:"{}"}),".",(0,l.jsx)(s.br,{}),"\n","For example:","\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.code,{children:"attributes: { crossorigin: true }"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.code,{children:"attributes: { media: '(max-width: 900px)' }"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.code,{children:"attributes: { fetchpriority: 'high' }"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.admonition,{type:"info",children:[(0,l.jsxs)(s.p,{children:["The ",(0,l.jsx)(s.code,{children:"true"})," value of a property will be rendered as an attribute w/o a value."]}),(0,l.jsxs)(s.p,{children:["For example, the  ",(0,l.jsx)(s.code,{children:"attributes: { crossorigin: true }"})," will be rendered to:"]}),(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-html",children:'<link rel="preload" ... crossorigin />\n'})}),(0,l.jsxs)(s.p,{children:["Setting the ",(0,l.jsx)(s.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/crossorigin",children:"crossorigin"})," attribute to an empty value, like ",(0,l.jsx)(s.code,{children:"crossorigin"})," or ",(0,l.jsx)(s.code,{children:'crossorigin=""'}),", is the same as ",(0,l.jsx)(s.code,{children:"anonymous"}),"."]})]}),"\n"]}),"\n",(0,l.jsxs)(s.p,{children:["If you define the ",(0,l.jsx)(s.code,{children:"attributes"})," than you can write the ",(0,l.jsx)(s.code,{children:"as"}),", ",(0,l.jsx)(s.code,{children:"rel"})," and ",(0,l.jsx)(s.code,{children:"type"})," properties in the ",(0,l.jsx)(s.code,{children:"attributes"}),"."]}),"\n",(0,l.jsx)(s.p,{children:"For example:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-js",children:"{\n  test: /\\.(ttf|woff2?)$/,\n  attributes: { as: 'font', rel: 'prefetch', crossorigin: true },\n},\n"})}),"\n",(0,l.jsx)("a",{id:"option-preload-filter",name:"option-preload-filter"}),"\n",(0,l.jsxs)(s.h3,{id:"filter-option",children:[(0,l.jsx)(s.code,{children:"filter"})," option"]}),"\n",(0,l.jsxs)(s.p,{children:["By default, all files matching the ",(0,l.jsx)(s.code,{children:"test"})," option will be preloaded.\nYou can use the ",(0,l.jsx)(s.code,{children:"filter"})," to preload specific files individually."]}),"\n",(0,l.jsxs)(s.p,{children:["The ",(0,l.jsx)(s.code,{children:"PreloadFilter"})," type provides a versatile way to define filtering logic,\nfrom simple patterns to complex inclusion and exclusion criteria."]}),"\n",(0,l.jsx)(s.p,{children:"The filter RegExp matches both the source and output files.\nIf you need to match source or output files separately use the filter function, see below."}),"\n",(0,l.jsx)(s.p,{children:"Here's are supported filter formats:"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"RegExp"}),(0,l.jsx)(s.br,{}),"\n","The filter matches a value if it satisfies this single regular expression.",(0,l.jsx)(s.br,{}),"\n","Works the same as ",(0,l.jsx)(s.code,{children:"{ includes: [RegExp,] }"}),".",(0,l.jsx)(s.br,{}),"\n","For example:"]}),"\n"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-js",children:"filter: /vendor/, // preload files containing the `vendor` string only\n"})}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"Array<RegExp>"}),(0,l.jsx)(s.br,{}),"\n","Matches a value if it satisfies ",(0,l.jsx)(s.strong,{children:"at least one"})," of the regular expressions in the array.",(0,l.jsx)(s.br,{}),"\n","Works the same as ",(0,l.jsx)(s.code,{children:"{ includes: [RegExp1, RegExp2, ...] }"}),".",(0,l.jsx)(s.br,{}),"\n","For example:"]}),"\n"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-js",children:"filter: [/vendor1/, /vendor2/,], // preload files containing the `vendor1` or `vendor2`\n"})}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"{ includes?: Array<RegExp>; excludes?: Array<RegExp> }"}),(0,l.jsx)(s.br,{}),"\n","An object with optional ",(0,l.jsx)(s.code,{children:"includes"})," and ",(0,l.jsx)(s.code,{children:"excludes"})," arrays of regular expressions.",(0,l.jsx)(s.br,{}),"\n","For more advanced filtering where inclusion and exclusion criteria need to be combined:"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"includes"}),": Matches values that satisfy ",(0,l.jsx)(s.strong,{children:"at least one"})," of the regular expressions in the array."]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"excludes"}),": Rejects values that satisfy ",(0,l.jsx)(s.strong,{children:"at least one"})," of the regular expressions in the array."]}),"\n",(0,l.jsxs)(s.li,{children:["For ",(0,l.jsx)(s.code,{children:"includes"})," and ",(0,l.jsx)(s.code,{children:"excludes"}),", the logic is AND: a value must match the ",(0,l.jsx)(s.code,{children:"includes"})," patterns and ",(0,l.jsx)(s.strong,{children:"not match"})," the ",(0,l.jsx)(s.code,{children:"excludes"})," patterns."]}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"For example:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-js",children:"filter: {\n  includes: [/include-this/,],\n  excludes: [/exclude-this/,],\n}\n"})}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"(asset: { sourceFiles: Array<string>; outputFile: string }) => void | boolean"}),(0,l.jsx)(s.br,{}),"\n","Custom logic provides maximum flexibility for filtering that cannot be expressed with regular expressions.",(0,l.jsx)(s.br,{}),"\n","A custom filter function takes the source files and the output asset file as input, and decides whether they match based on the return value:"]}),"\n",(0,l.jsxs)(s.li,{children:["Returns ",(0,l.jsx)(s.code,{children:"void"})," (",(0,l.jsx)(s.code,{children:"undefined"}),") or ",(0,l.jsx)(s.code,{children:"true"})," if the value passes the filter."]}),"\n",(0,l.jsxs)(s.li,{children:["Returns ",(0,l.jsx)(s.code,{children:"false"})," if the value fails the filter."]}),"\n"]}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.admonition,{type:"info",children:[(0,l.jsxs)(s.p,{children:["Only ",(0,l.jsx)(s.code,{children:"style"})," type may have many files in the ",(0,l.jsx)(s.code,{children:"sourceFiles"}),".",(0,l.jsx)(s.br,{}),"\n","If many styles are imported in one JS file, then all extracted CSS will be squashed into single CSS file with the name of a JS parent file.\nIn this case the ",(0,l.jsx)(s.code,{children:"sourceFiles"})," will have many files."]}),(0,l.jsxs)(s.p,{children:["Usage for ",(0,l.jsx)(s.code,{children:"style"})," type:"]}),(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-js",children:"{\n  test: /\\.(s?css|less)$/,\n  filter: ({ sourceFiles, outputFile }) => {\n    return !sourceFiles.some((sourceFile) => /noPreload/.test(sourceFile));\n  },\n  as: 'style',\n},\n"})}),(0,l.jsxs)(s.p,{children:["All other types have only one file in the ",(0,l.jsx)(s.code,{children:"sourceFiles"})," array.\nYou can use the argument destructor to extract only first source file."]}),(0,l.jsx)(s.p,{children:"Usage for all other types:"}),(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-js",children:"{\n  test: /\\.(js|ts)$/,\n  filter: ({ sourceFiles: [sourceFile], outputFile }) => !/noPreload/.test(outputFile),\n  as: 'script',\n},\n"})})]}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"For example, preload all JS files except dynamically imported (async chunks)."}),"\n",(0,l.jsxs)(s.p,{children:["There is the ",(0,l.jsx)(s.em,{children:"app.js"}),":"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-js",children:"// specify the name of an individual chunk to exclude from preloading\nimport(\n /* webpackChunkName: \"moduleA.asyncChunk\" */\n './moduleA',\n);\n\nimport('./moduleB'); // other asyncChunk which should be preloaded\nimport './moduleC'; // normal module\n"})}),"\n",(0,l.jsxs)(s.p,{children:["Use the ",(0,l.jsx)(s.code,{children:"filter"})," preload option to exclude files:"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-js",children:"preload: [\n  {\n    test: /\\.(js|ts)$/,\n    filter: {\n      // matches source and output files\n      excludes: [/asyncChunk/],\n    },\n    as: 'script',\n  },\n],\n"})}),"\n",(0,l.jsxs)(s.p,{children:["The same effect using the ",(0,l.jsx)(s.code,{children:"filter"})," function:"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-js",children:"preload: [\n  {\n    test: /\\.(js|ts)$/,\n    filter: ({ sourceFiles: [sourceFile], outputFile }) => !/asyncChunk/.test(sourceFile)),\n    as: 'script',\n  },\n],\n"})}),"\n",(0,l.jsx)(s.h3,{id:"preload-styles",children:"Preload styles"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-js",children:"preload: [\n  {\n    test: /\\.(css|scss|less)$/,\n    as: 'style',\n  },\n],\n"})}),"\n",(0,l.jsx)(s.p,{children:"The generated preload tag like the following:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-html",children:'<link rel="preload" href="css/style.1f4faaff.css" as="style" />\n'})}),"\n",(0,l.jsx)(s.h3,{id:"preload-scripts",children:"Preload scripts"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-js",children:"preload: [\n  {\n    test: /\\.(js|ts)$/,\n    as: 'script',\n  },\n],\n"})}),"\n",(0,l.jsx)(s.p,{children:"The generated preload tag like the following:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-html",children:'<link rel="preload" href="js/main.c608b1cd.js" as="script" />\n'})}),"\n",(0,l.jsx)(s.h3,{id:"preload-images",children:"Preload images"}),"\n",(0,l.jsx)(s.p,{children:"To preload all images use the options:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-js",children:"preload: [\n  {\n    test: /\\.(png|jpe?g|webp|svg)$/,\n    as: 'image',\n  },\n],\n"})}),"\n",(0,l.jsx)(s.p,{children:"The generated preload tags like the following:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-html",children:'<link rel="preload" href="img/apple.697ef306.png" as="image" type="image/png" />\n<link rel="preload" href="img/lemon.3666c92d.svg" as="image" type="image/svg+xml" />\n'})}),"\n",(0,l.jsxs)(s.p,{children:["You can preload images with a URL query, e.g. ",(0,l.jsx)(s.code,{children:"image.png?size=640"}),", using the ",(0,l.jsx)(s.code,{children:"media"})," attribute:"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-js",children:"preload: [\n  {\n    test: /\\.(png|jpe?g|webp)\\?.*size=480/,\n    attributes: { as: 'image', media: '(max-width: 480px)' },\n  },\n  {\n    test: /\\.(png|jpe?g|webp)\\?.*size=640/,\n    attributes: { as: 'image', media: '(max-width: 640px)' },\n  },\n],\n"})}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsx)(s.admonition,{type:"info",children:(0,l.jsxs)(s.p,{children:["The ",(0,l.jsx)(s.code,{children:"media"})," attribute be useful when used ",(0,l.jsx)(s.a,{href:"https://www.npmjs.com/package/responsive-loader",children:"responsive-loader"}),"."]})}),"\n"]}),"\n",(0,l.jsx)(s.h3,{id:"preload-fonts",children:"Preload fonts"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-js",children:"preload: [\n  {\n    test: /\\.(ttf|woff2?)$/,\n    attributes: { as: 'font', crossorigin: true },\n  },\n],\n"})}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.admonition,{type:"info",children:[(0,l.jsxs)(s.p,{children:["Font preloading ",(0,l.jsx)(s.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/rel/preload#cors-enabled_fetches",children:"requires"})," the ",(0,l.jsx)(s.code,{children:"crossorigin"})," attribute to be set.",(0,l.jsx)(s.br,{}),"\n","If the ",(0,l.jsx)(s.code,{children:"crossorigin"})," property is not defined, it will be added for the ",(0,l.jsx)(s.code,{children:"font"})," type automatically."]}),(0,l.jsxs)(s.p,{children:["See ",(0,l.jsx)(s.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/rel/preload#what_types_of_content_can_be_preloaded",children:"font preload"}),"."]})]}),"\n"]}),"\n",(0,l.jsx)(s.h3,{id:"preload-tags-order",children:"Preload tags order"}),"\n",(0,l.jsxs)(s.p,{children:["The generated preload tags are grouped by content type and sorted in the order of the specified ",(0,l.jsx)(s.code,{children:"preload"})," options."]}),"\n",(0,l.jsx)(s.p,{children:"For example, there is an HTML template with specified source assets:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-html",children:'<html>\n  <head>\n    <script src="./main.js" defer><\/script>\n    <link href="./style.scss" rel="stylesheet" />\n  </head>\n  <body>\n    <img src="./apple.png" alt="apple" />\n    <script src="./app.js"><\/script>\n    <img src="./lemon.svg" alt="lemon" />\n  </body>\n</html>\n'})}),"\n",(0,l.jsx)(s.p,{children:"Specify the order of preload tags:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-js",children:"preload: [\n  // 1. preload images\n  {\n    test: /\\.(png|jpe?g|webp|svg)$/,\n    as: 'image',\n  },\n  // 2. preload styles\n  {\n    test: /\\.(css|scss)$/,\n    as: 'style',\n  },\n  // 3. preload scripts\n  {\n    test: /\\.(js|ts)$/,\n    as: 'script',\n  },\n],\n"})}),"\n",(0,l.jsxs)(s.p,{children:["The generated HTML contains the preload tags exactly in the order of ",(0,l.jsx)(s.code,{children:"preload"})," options:"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-html",children:'<html>\n  <head>\n    \x3c!-- 1. preload images --\x3e\n    <link rel="preload" href="img/apple.697ef306.png" as="image" type="image/png" />\n    <link rel="preload" href="img/lemon.3666c92d.svg" as="image" type="image/svg+xml" />\n    \x3c!-- 2. preload styles --\x3e\n    <link rel="preload" href="css/style.1f4faaff.css" as="style" />\n    \x3c!-- 3. preload scripts --\x3e\n    <link rel="preload" href="js/main.c608b1cd.js" as="script" />\n    <link rel="preload" href="js/app.2c8d13ac.js" as="script" />\n\n    <script src="js/main.c608b1cd.js" defer><\/script>\n    <link href="css/style.1f4faaff.css" rel="stylesheet" />\n  </head>\n  <body>\n    <img src="img/apple.697ef306.png" alt="apple" />\n    <script src="js/app.2c8d13ac.js"><\/script>\n    <img src="img/lemon.3666c92d.svg" alt="lemon" />\n  </body>\n</html>\n'})}),"\n",(0,l.jsx)(s.h3,{id:"preload-priority",children:"Preload priority"}),"\n",(0,l.jsxs)(s.p,{children:["The ",(0,l.jsx)(s.code,{children:"fetchpriority"})," attribute helps optimize resource loading by prioritizing critical assets and deferring less important ones."]}),"\n",(0,l.jsx)(s.p,{children:(0,l.jsx)(s.strong,{children:"Available values:"})}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"auto"})," (default) \u2013 The browser determines the priority automatically."]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"high"})," \u2013 The resource is fetched with high priority."]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"low"})," \u2013 The resource is fetched with lower priority."]}),"\n"]}),"\n",(0,l.jsxs)(s.p,{children:["Using ",(0,l.jsx)(s.code,{children:"fetchpriority"})," is especially beneficial for improving ",(0,l.jsx)(s.strong,{children:"Core Web Vitals"}),",\nparticularly ",(0,l.jsx)(s.strong,{children:"Largest Contentful Paint (LCP)"}),", by ensuring essential resources load as quickly as possible."]}),"\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.strong,{children:"Example:"})," Preloading an LCP image with high priority"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-js",children:"preload: [\n  {\n    test: /lcp-image\\.webp/i,\n    attributes: {\n      as: 'image',\n      fetchpriority: 'high',\n    },\n  },\n],\n"})}),"\n",(0,l.jsx)(s.h3,{id:"more-info",children:"More info"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"https://web.dev/articles/fetch-priority",children:"Fetch priority"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"https://web.dev/articles/optimize-lcp",children:"Optimize Largest Contentful Paint"})}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>d});var r=n(6540);const l={},i=r.createContext(l);function t(e){const s=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),r.createElement(i.Provider,{value:s},e.children)}}}]);